# 🌐 AI 헤지펀드 웹 인터페이스 사용법

브라우저에서 쉽게 사용할 수 있는 AI 헤지펀드 거래 시스템입니다.

## 🚀 빠른 시작

### 1. 웹 서버 시작

**간단한 방법:**
```bash
python start_web_server.py
```

**직접 실행:**
```bash
python src/web_api.py
```

### 2. 브라우저 접속

서버가 시작되면 다음 주소로 접속하세요:

**로컬 접속:**
- http://localhost:8000

**네트워크 접속 (다른 컴퓨터에서):**
- http://192.168.1.3:8000

## 📱 웹 인터페이스 사용법

### 🎮 메인 대시보드

웹 페이지에 접속하면 다음과 같은 대시보드가 나타납니다:

1. **시스템 상태 표시줄**
   - 🟢/🔴 시스템 활성/중지
   - 🔌 브로커 연결 상태
   - 📋/💰 페이퍼/실제 거래 모드
   - ⚡ 자동/수동 거래 모드

2. **시스템 제어 패널**
   - `시스템 초기화`: 브로커 연결 및 시스템 준비
   - `긴급 정지`: 모든 포지션 즉시 청산
   - `상태 새로고침`: 현재 상태 업데이트

3. **계좌 정보**
   - 총 자산, 현금, 매수력
   - 보유 포지션 및 손익

4. **리스크 모니터링**
   - 실시간 위험 요소 체크
   - 경고 알림 및 권장사항

### 🧠 AI 분석 및 거래

#### 단일 분석 모드
1. **티커 입력**: `AAPL,GOOGL,MSFT,NVDA` (쉼표로 구분)
2. **단일 분석 실행** 버튼 클릭
3. 분석 결과 확인
4. **거래 실행** 버튼 클릭 (분석 완료 후 활성화)

#### 연속 거래 모드
1. **티커 입력** 및 **실행 간격(분)** 설정
2. **연속 거래 시작** 버튼 클릭
3. 자동으로 지정된 간격마다 분석 및 거래 실행
4. **연속 거래 중단** 버튼으로 언제든 정지 가능

### 📊 실시간 모니터링

웹 인터페이스는 **실시간으로 다음 정보를 업데이트**합니다:

- **계좌 상태**: 포지션 변화, 손익 업데이트
- **리스크 알림**: 위험 상황 즉시 알림
- **거래 결과**: 실행된 거래 내역
- **시스템 상태**: 연결 상태, 모드 변경 사항

## ⚙️ 주요 기능

### 🔄 실시간 업데이트
- 웹소켓을 통한 실시간 데이터 전송
- 30초마다 자동 상태 갱신
- 즉시 알림 및 상태 변화 표시

### 🎯 스마트 알림
- **경고 (노란색)**: 주의 필요한 상황
- **위험 (빨간색)**: 즉시 조치 필요
- **성공 (초록색)**: 정상 완료

### 📈 시각적 표시
- **포지션 상태**: 수익(초록색)/손실(빨간색) 색상 구분
- **거래 결과**: 성공/실패 아이콘 표시
- **진행 상태**: 로딩 스피너 및 진행률

### 🔧 고급 제어
- **자동 거래 토글**: 분석 후 자동 실행 여부
- **긴급 정지**: 위험 상황시 모든 포지션 즉시 청산
- **설정 관리**: 실시간 설정 변경 가능

## 🛡️ 안전 기능

### 4단계 안전 시스템
1. **시각적 확인**: 모든 작업이 화면에 표시
2. **실시간 알림**: 위험 상황 즉시 알림
3. **긴급 정지**: 언제든 즉시 중단 가능
4. **상태 모니터링**: 지속적인 시스템 감시

### 보안 기능
- **API 키 숨김**: 설정에서 민감 정보 비표시
- **세션 관리**: 안전한 웹소켓 연결
- **접근 제어**: 로컬 네트워크 내 접근만 허용

## 📱 모바일 지원

웹 인터페이스는 **반응형 디자인**으로 제작되어:
- 📱 스마트폰에서도 사용 가능
- 💻 태블릿 최적화
- 🖥️ 데스크톱 전체 기능 지원

## 🔍 문제 해결

### 자주 발생하는 문제

**1. 브라우저 접속 안됨**
```
해결: 방화벽 확인, 포트 8000 사용 가능 확인
```

**2. "시스템 초기화" 실패**
```
해결: .env 파일 API 키 확인, 브로커 설정 점검
```

**3. 실시간 업데이트 안됨**
```
해결: 페이지 새로고침, 웹소켓 연결 확인
```

**4. 분석 실행 실패**
```
해결: 티커 형식 확인 (AAPL,GOOGL,MSFT), API 키 유효성 점검
```

### 로그 확인

개발자 도구 콘솔에서 오류 확인:
1. 브라우저에서 `F12` 키 누르기
2. `Console` 탭 선택
3. 오류 메시지 확인

### 서버 로그

터미널에서 서버 로그 확인:
```bash
# 서버 실행 시 표시되는 로그 메시지 확인
python start_web_server.py
```

## 🌟 고급 사용법

### 📊 API 엔드포인트 직접 사용

웹 UI 외에도 REST API 직접 호출 가능:

```bash
# 시스템 상태 확인
curl http://192.168.1.3:8000/api/status

# 계좌 정보 조회  
curl http://192.168.1.3:8000/api/account

# AI 분석 실행
curl -X POST http://192.168.1.3:8000/api/analyze \
  -H "Content-Type: application/json" \
  -d '{"tickers": ["AAPL", "GOOGL"]}'
```

### 🔗 웹소켓 직접 연결

실시간 데이터 수신을 위한 웹소켓 연결:
```javascript
const ws = new WebSocket('ws://192.168.1.3:8000/ws');

ws.onopen = () => {
    // 계좌 상태 구독
    ws.send(JSON.stringify({
        type: 'subscribe',
        subscription_type: 'account_status'
    }));
};

ws.onmessage = (event) => {
    const data = JSON.parse(event.data);
    console.log('실시간 업데이트:', data);
};
```

### ⚡ 성능 최적화

**대용량 거래용 설정:**
1. 연속 거래 간격을 30분 이상으로 설정
2. 동시 분석 티커를 5개 이하로 제한  
3. 브라우저 여러 탭 동시 접속 피하기

## 📞 지원

문제가 발생하면:
1. 이 가이드의 문제 해결 섹션 확인
2. 브라우저 콘솔 오류 메시지 확인
3. 서버 터미널 로그 확인
4. GitHub Issues에 문제 리포트

---

**🎉 축하합니다! 이제 브라우저에서 편리하게 AI 헤지펀드를 운영할 수 있습니다!**

웹 주소: **http://192.168.1.3:8000**에서 시작하세요!